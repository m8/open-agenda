{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    {% include "blocks/head.html" %}
</head>
<body>
    
    {% include "blocks/navbar.html" %}

      
      <div class="content-container">
        <div class="container-fluid">
            <h2 class="m-2 mb-4">Weekly Notes</h2>

            {% for q in days %} 
            <div id="{{ q.0 }}" class="card m-2 days" onclick="changedate(this.id)" >
              <div class="card-body">
                  <i class="fa fa-arrow-right px-2"></i>
                  <span style="font-weight: 300;">{{ q.0 }}</span>  {{ q.1 }}
              </div>
            </div>
            {% endfor %} 

            <a href="/generate-report" class="btn btn-warning m-2"><i class="fa fa-sticky-note"></i> Generate Weekly Report</a>

          </div>

          {% include "blocks/add_project_modal.html" %}

      </div>

    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dayjs/1.10.4/dayjs.min.js" integrity="sha512-0fcCRl828lBlrSCa8QJY51mtNqTcHxabaXVLPgw/jPA5Nutujh6CbTdDgRzl9aSPYW/uuE7c4SffFUQFBAy6lg==" crossorigin="anonymous"></script>
    
    
    <script>

        let current_date = "{{notes.pub_date}}";

        function changedate(date){
            window.location.href = `/get/?date=${date}`;
        }

        function getDayName(dateStr, locale)
        {
            var date = new Date(dateStr);
            return date.toLocaleDateString(locale, { weekday: 'long' });        
        }

        var dateStr = '05-03-2021'.replace('-','/');
        var day = getDayName(dateStr, "tr");
        console.log(day)

    </script>

    
</body>
</html>